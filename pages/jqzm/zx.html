<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­ä¿¡é“¶è¡Œ - ä¸ªäººè´·æ¬¾ç»“æ¸…è¯æ˜</title>
    <style>
        :root {
            --font-fangsong: "FangSong", "STFangsong", "SimSun", serif; /* ä»¿å®‹ */
            --font-hei: "SimHei", "Heiti SC", sans-serif;
            --margin-x: 140px; /* å·¦å³è¾¹è· */
            --margin-top: 100px; /* Logo è·ç¦»é¡¶éƒ¨ */
        }

        @page {
            size: A4;
            margin: 0;
        }

        body {
            background-color: #333; /*æ·±è‰²èƒŒæ™¯è¡¬æ‰˜A4çº¸*/
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            font-family: var(--font-fangsong);
        }

        /* A4 çº¸å¼ å®¹å™¨ */
        .a4-page {
            background: white;
            width: 210mm;
            height: 297mm;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
            box-sizing: border-box;
            /* å…³é”®å¸ƒå±€å‚æ•° */
            padding-top: var(--margin-top); 
            padding-left: var(--margin-x);
            padding-right: var(--margin-x);
            overflow: hidden; 
        }

        /* æ‰“å°æ—¶éšè—èƒŒæ™¯å’Œæ§åˆ¶å° */
        @media print {
            body { background: none; padding: 0; }
            .a4-page { box-shadow: none; margin: 0; page-break-after: always; height: auto; min-height: 297mm;}
            .controls { display: none !important; }
            /* æ‰“å°æ—¶ä¿æŒè¾¹è· */
            @page { margin: 0; }
        }

        /* === å†…å®¹æ ·å¼ === */
        
        /* å¤´éƒ¨ Logo */
        .header {
            margin-bottom: 40px;
            /* Logo å¤§å°ç”± JS æ§åˆ¶ */
        }
        .header img {
            width: 120px; /* é»˜è®¤å€¼ */
            display: block;
        }

        /* æ ‡é¢˜ */
        .doc-title {
            text-align: center;
            font-size: 22pt; /* äºŒå·å·¦å³ï¼Œæˆ–è€…æ ¹æ®è§†è§‰è°ƒæ•´ */
            font-weight: bold;
            font-family: var(--font-hei); /* æ ‡é¢˜é€šå¸¸æ˜¯é»‘ä½“æˆ–åŠ ç²—å®‹ä½“ */
            margin-bottom: 50px;
            letter-spacing: 2px;
        }

        /* æ­£æ–‡ */
        .doc-body {
            font-size: 14pt; /* å››å·å­— approx 14pt */
            line-height: 2.0; /* 2å€è¡Œè· */
            text-align: justify; /* ä¸¤ç«¯å¯¹é½ */
            color: #000;
        }

        .doc-body p {
            margin: 0;
            text-indent: 2em; /* é¦–è¡Œç¼©è¿› */
        }

        /* éªŒè¯ç ä¸å£°æ˜ */
        .verify-section {
            margin-top: 40px;
            font-size: 10.5pt; /* äº”å·å­— */
            line-height: 1.5;
        }

        .disclaimer {
            margin-top: 10px;
            font-size: 9pt; /* å°äº”å· */
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 5px;
            line-height: 1.4;
        }

        /* è½æ¬¾åŒº */
        .footer {
            margin-top: 60px;
            text-align: right;
            font-size: 14pt;
            font-weight: bold;
            font-family: var(--font-hei);
            line-height: 1.8;
            position: relative;
            padding-right: 20px; /* ç¨å¾®å³ç¼©è¿›ä¸€ç‚¹ */
        }

        /* å¯ç¼–è¾‘åŒºåŸŸé«˜äº® */
        [contenteditable]:hover {
            background-color: rgba(255, 255, 0, 0.1);
            cursor: text;
        }
        [contenteditable]:focus {
            background-color: rgba(230, 247, 255, 0.5);
            outline: none;
        }

        /* å°ç«  */
        .stamp-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; /* è®©é¼ æ ‡èƒ½ç©¿é€å®¹å™¨ç‚¹æ–‡å­— */
            overflow: hidden;
        }
        .stamp-img {
            position: absolute;
            width: 150px; /* é»˜è®¤å®½åº¦ */
            top: 650px; 
            left: 450px;
            cursor: move;
            pointer-events: auto; /* æ¢å¤å°ç« çš„é¼ æ ‡äº‹ä»¶ */
            mix-blend-mode: multiply; /* æ­£ç‰‡å åº•ï¼šå»ç™½åº•ï¼Œçº¢å°å åŠ  */
            z-index: 100;
        }

        /* æ§åˆ¶é¢æ¿ */
        .controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            width: 220px;
            font-family: sans-serif;
            font-size: 12px;
            z-index: 9999;
        }
        .control-group { margin-bottom: 12px; }
        .control-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        input[type="range"] { width: 100%; }
        button {
            width: 100%; padding: 8px; 
            background: #b71c1c; color: white; 
            border: none; border-radius: 4px; cursor: pointer;
            font-weight: bold; margin-top: 5px;
        }
        button:hover { background: #8e1616; }
        button.secondary { background: #555; margin-top: 10px; }
        
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }
        .file-input-wrapper input[type=file] {
            font-size: 100px;
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            cursor: pointer;
        }
        .btn-upload {
            background: #2196F3;
            color: white;
            padding: 8px;
            text-align: center;
            border-radius: 4px;
            display: block;
            font-weight: bold;
        }

    </style>
</head>
<body>

    <div class="a4-page">
        
        <div class="header">
            <img src="../../images/ä¸­ä¿¡logo.png" id="bankLogo" alt="ä¸­ä¿¡é“¶è¡Œ">
        </div>

        <div class="doc-title" contenteditable="true">
            ä¸ªäººè´·æ¬¾ç»“æ¸…è¯æ˜
        </div>

        <div class="doc-body">
            <p>
                å€Ÿæ¬¾äººï¼š<span contenteditable="true" style="font-weight: bold;">ä¸åº·æ°</span>
                ï¼ˆè¯ä»¶ç±»å‹åŠå·ç ï¼š<span contenteditable="true">å±…æ°‘èº«ä»½è¯ 340102198704060515</span>ï¼‰
            </p>
            <p>
                è´·æ¬¾åè®®ç¼–å·ä¸ºï¼š<span contenteditable="true" style="font-weight: bold;">9007561637562160054</span> 
                çš„ï¼ˆ<span contenteditable="true">ä¸ªäººå•†ç”¨æˆ¿æŠµæŠ¼è´·æ¬¾-ç»è¥</span>ï¼‰è´·æ¬¾ï¼Œ
            </p>
            <p>
                æŠµæŠ¼ç‰©åœ°å€ï¼š<span contenteditable="true">åˆè‚¥å¸‚åºé˜³åŒºè£äº‹è¾¾å¤§é“55å·605å®¤</span>ï¼Œ
                è´·æ¬¾æœŸé™è‡ª <span contenteditable="true">2025å¹´03æœˆ31æ—¥</span> 
                è‡³ <span contenteditable="true">2055å¹´03æœˆ31æ—¥</span>ï¼Œ
                å·²äº <span contenteditable="true">2026å¹´01æœˆ05æ—¥</span> ç»“æ¸…è´·æ¬¾æœ¬æ¯ã€‚
            </p>
            <p>
                ç‰¹æ­¤è¯æ˜ã€‚
            </p>
        </div>

        <div class="verify-section">
            éªŒè¯ç ï¼š<span contenteditable="true" style="font-family: Arial, sans-serif;">40D028X7629F3</span>
        </div>

        <div class="disclaimer" contenteditable="true">
            å£°æ˜ï¼šè¯·å‰å¾€ä¸­ä¿¡é“¶è¡Œå®˜æ–¹ç½‘ç«™å½•å…¥ç›¸å…³ä¿¡æ¯åè¿›è¡ŒçœŸä¼ªæ ¸éªŒï¼Œä¸ºä¿è¯æ‚¨çš„æƒç›ŠåŠè¯æ˜çš„å…¬æ­£æ€§ï¼Œè¯·ä¸è¦ç§è‡ªæ ¸éªŒã€‚
        </div>

        <div class="footer">
            <div contenteditable="true">ä¸­ä¿¡é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸</div>
            <div contenteditable="true" style="margin-top: 10px;">ä¸ªè´·è¯æ˜ææ–™</div>
            <div style="margin-top: 30px; font-weight: normal; font-family: var(--font-fangsong); font-size: 14pt;">
                æ—¥æœŸï¼š<span contenteditable="true">2026å¹´01æœˆ08æ—¥</span>
            </div>
        </div>

        <div class="stamp-container" id="stampContainer">
            <img src="" class="stamp-img" id="dragStamp" style="display: none;">
        </div>

    </div>

    <div class="controls">
        <div class="control-group">
            <label>Logo å¤§å° (px)</label>
            <input type="range" min="50" max="300" value="120" id="logoSizeRange">
            <div style="text-align:right; color:#666;" id="logoSizeVal">120px</div>
        </div>

        <div class="control-group">
            <label>å°ç« æ“ä½œ</label>
            <div class="file-input-wrapper">
                <div class="btn-upload">ğŸ“‚ ä¸Šä¼ å°ç« å›¾ç‰‡</div>
                <input type="file" id="stampUpload" accept="image/*">
            </div>
        </div>

        <div class="control-group" id="stampControls" style="display:none;">
            <label>å°ç« å¤§å° (px)</label>
            <input type="range" min="50" max="300" value="150" id="stampSizeRange">
        </div>

        <button onclick="window.print()">ğŸ–¨ï¸ æ‰“å° / å­˜ä¸ºPDF</button>
        <button class="secondary" onclick="toggleEditHighlight()">ğŸ‘ï¸ éšè—ç¼–è¾‘æ¡†é«˜äº®</button>
    </div>

    <script>
        // --- 1. Logo è°ƒæ•´ ---
        const logoImg = document.getElementById('bankLogo');
        const logoRange = document.getElementById('logoSizeRange');
        const logoVal = document.getElementById('logoSizeVal');

        logoRange.addEventListener('input', (e) => {
            const size = e.target.value;
            logoImg.style.width = size + 'px';
            logoVal.innerText = size + 'px';
        });

        // --- 2. å°ç« ä¸Šä¼ ä¸æ˜¾ç¤º ---
        const stampUpload = document.getElementById('stampUpload');
        const dragStamp = document.getElementById('dragStamp');
        const stampControls = document.getElementById('stampControls');
        const stampSizeRange = document.getElementById('stampSizeRange');

        stampUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    dragStamp.src = event.target.result;
                    dragStamp.style.display = 'block';
                    stampControls.style.display = 'block';
                }
                reader.readAsDataURL(file);
            }
        });

        stampSizeRange.addEventListener('input', (e) => {
            dragStamp.style.width = e.target.value + 'px';
        });

        // --- 3. å°ç« æ‹–æ‹½é€»è¾‘ ---
        let isDragging = false;
        let startX, startY, initialLeft, initialTop;

        dragStamp.addEventListener('mousedown', (e) => {
            e.preventDefault(); // é˜²æ­¢å›¾ç‰‡è¢«åŸç”Ÿæ‹–åŠ¨
            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            initialLeft = dragStamp.offsetLeft;
            initialTop = dragStamp.offsetTop;
            dragStamp.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                dragStamp.style.left = (initialLeft + dx) + 'px';
                dragStamp.style.top = (initialTop + dy) + 'px';
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            dragStamp.style.cursor = 'move';
        });

        // --- 4. è¾…åŠ©åŠŸèƒ½ ---
        function toggleEditHighlight() {
            // åªæ˜¯ä¸ºäº†é¢„è§ˆæ—¶å¥½çœ‹ï¼ŒæŠŠfocusæ ·å¼å»æ‰
            document.body.focus(); 
            alert("å·²é€šè¿‡ CSS æ§åˆ¶ï¼Œé¼ æ ‡ç§»å¼€å³æ— é«˜äº®ã€‚æ‰“å°æ—¶ä¹Ÿä¸ä¼šæœ‰é«˜äº®ã€‚");
        }
    </script>
</body>
</html>