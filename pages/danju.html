<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é“¶è¡Œé€šç”¨å•æ®ç”Ÿæˆå™¨</title>
    <style>
        :root {
            --paper-width: 210mm;
            --paper-height: 297mm;
            --font-mono: "Consolas", "Courier New", monospace; /* ç¥¨æ®ç­‰å®½å­—ä½“ */
            --font-song: "SimSun", "Songti SC", serif;        /* å…¬æ–‡å®‹ä½“ */
            --font-hei: "SimHei", "Heiti SC", sans-serif;      /* æ ‡é¢˜é»‘ä½“ */
        }

        @page { size: A4; margin: 0; }

        body {
            background-color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            font-family: var(--font-song);
        }

        /* === A4 çº¸å¼ å®¹å™¨ === */
        .a4-page {
            background: white;
            width: var(--paper-width);
            height: var(--paper-height);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
            box-sizing: border-box;
            overflow: hidden;
            /* é»˜è®¤å†…è¾¹è·ï¼Œä¸åŒæ¨¡æ¿å¯è¦†ç›– */
            padding: 20mm; 
        }

        @media print {
            body { background: none; padding: 0; }
            .a4-page { box-shadow: none; margin: 0; page-break-after: always; }
            .control-panel, .btn-float { display: none !important; }
        }

        /* === é€šç”¨å…ƒç´  === */
        [contenteditable="true"]:hover { background: rgba(255, 255, 0, 0.1); cursor: text; }
        [contenteditable="true"]:focus { background: rgba(255, 255, 255, 0.8); outline: 1px dashed #2258da; }
        
        .stamp-img {
            position: absolute;
            z-index: 100;
            width: 150px;
            pointer-events: auto; /* å…è®¸æ‹–æ‹½ */
            cursor: move;
            mix-blend-mode: multiply; /* æ­£ç‰‡å åº• */
        }

        /* ================= æ¨¡æ¿ 1: ä¸­ä¿¡é“¶è¡Œ (å…¬æ–‡æµå¼) ================= */
        .tpl-citic {
            font-family: var(--font-song);
            color: #000;
            line-height: 1.8;
            font-size: 16px;
        }
        .tpl-citic .header {
            display: flex; align-items: center; margin-bottom: 40px;
            border-bottom: 2px solid #b71c1c; /* çº¢çº¿ */
            padding-bottom: 10px;
        }
        .tpl-citic .logo { height: 40px; margin-right: 15px; } /* è¯·ç¡®ä¿æœ‰ images/ä¸­ä¿¡logo.png */
        .tpl-citic .bank-name { font-size: 24px; font-weight: bold; font-family: var(--font-hei); }
        .tpl-citic .en-name { font-size: 12px; color: #666; margin-top: 2px; }
        
        .tpl-citic .doc-title {
            text-align: center; font-size: 28px; font-weight: bold; margin-bottom: 40px;
            letter-spacing: 5px; font-family: var(--font-hei);
        }
        
        .tpl-citic .doc-body { text-indent: 2em; text-align: justify; }
        .tpl-citic .bold-text { font-weight: bold; font-family: var(--font-hei); }
        .tpl-citic .verify-code { margin-top: 40px; font-size: 14px; font-family: var(--font-mono); }
        .tpl-citic .footer-note { margin-top: 20px; font-size: 12px; color: #666; border-top: 1px solid #ccc; padding-top: 10px; }
        .tpl-citic .sign-area { text-align: right; margin-top: 60px; padding-right: 40px; line-height: 1.6; }

        /* ================= æ¨¡æ¿ 2: æµ¦å‘é“¶è¡Œ (å›å•ç½‘æ ¼) ================= */
        .tpl-spdb {
            font-family: var(--font-song);
            font-size: 14px;
        }
        .tpl-spdb .header-row { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px; }
        .tpl-spdb .logo-area img { height: 35px; }
        .tpl-spdb .bill-title { font-size: 20px; font-weight: bold; text-align: center; font-family: var(--font-hei); }
        
        /* ç¥¨æ®ç½‘æ ¼ç³»ç»Ÿ */
        .bill-grid {
            display: grid;
            grid-template-columns: 100px 1fr 100px 1fr; /* 4åˆ—ç»“æ„ */
            border: 2px solid #000;
        }
        .bill-cell {
            border: 1px solid #000; /* ç»†è¾¹æ¡† */
            padding: 8px 5px;
            display: flex; align-items: center;
        }
        .bill-label { font-weight: bold; color: #333; margin-right: 5px; }
        .bill-value { font-family: var(--font-mono); color: #000; font-size: 15px; font-weight: bold; width: 100%; }
        
        .full-row { grid-column: 1 / -1; } /* è·¨æ‰€æœ‰åˆ— */
        .half-row { grid-column: span 2; } /* è·¨2åˆ— */
        
        .bill-dashed { border-bottom: 1px dashed #000; margin: 5px 0; }
        .spdb-footer { display: flex; justify-content: space-between; margin-top: 10px; font-size: 12px; }

        /* ================= æ§åˆ¶é¢æ¿ ================= */
        .control-panel {
            position: fixed; bottom: 20px; right: 20px; background: white;
            padding: 20px; border-radius: 8px; box-shadow: 0 0 15px rgba(0,0,0,0.3);
            width: 250px; font-family: "Microsoft YaHei"; z-index: 1000;
        }
        .panel-row { margin-bottom: 15px; }
        .panel-row label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
        select, button { width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; }
        button { background: #2258da; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #1a45b0; }

        /* éšè—/æ˜¾ç¤ºæ¨¡æ¿ */
        .template-container { display: none; }
        .template-container.active { display: block; }

    </style>
</head>
<body>

    <div class="a4-page" id="pageArea">
        
        <img src="../images/citic_stamp.png" class="stamp-img" id="dragStamp" style="top: 600px; left: 450px;">

        <div id="tpl-citic" class="template-container tpl-citic active">
            <div class="header">
                <img src="../images/ä¸­ä¿¡logo.png" class="logo" alt="Logo">
                <div>
                    <div class="bank-name">ä¸­ä¿¡é“¶è¡Œ</div>
                    <div class="en-name">CHINA CITIC BANK</div>
                </div>
            </div>

            <div class="doc-title">ä¸ªäººè´·æ¬¾ç»“æ¸…è¯æ˜</div>

            <div class="doc-body">
                <p>
                    å€Ÿæ¬¾äººï¼š<span class="bold-text" contenteditable="true">ä¸åº·æ°</span>
                    ï¼ˆè¯ä»¶ç±»å‹åŠå·ç ï¼š<span contenteditable="true">å±…æ°‘èº«ä»½è¯ 340102198704060515</span>ï¼‰
                </p>
                <p>
                    è´·æ¬¾åè®®ç¼–å·ä¸ºï¼š<span class="bold-text" contenteditable="true">9007561637562160054</span>
                    çš„ï¼ˆ<span contenteditable="true">ä¸ªäººå•†ç”¨æˆ¿æŠµæŠ¼è´·æ¬¾-ç»è¥</span>ï¼‰è´·æ¬¾ï¼Œ
                </p>
                <p>
                    æŠµæŠ¼ç‰©åœ°å€ï¼š<span contenteditable="true">åˆè‚¥å¸‚åºé˜³åŒºè£äº‹è¾¾å¤§é“55å·605å®¤</span>ï¼Œ
                    è´·æ¬¾æœŸé™è‡ª <span contenteditable="true">2025å¹´03æœˆ31æ—¥</span> è‡³ <span contenteditable="true">2055å¹´03æœˆ31æ—¥</span>ï¼Œ
                    å·²äº <span class="bold-text" contenteditable="true">2026å¹´01æœˆ05æ—¥</span> ç»“æ¸…è´·æ¬¾æœ¬æ¯ã€‚
                </p>
                <p>ç‰¹æ­¤è¯æ˜ã€‚</p>
            </div>

            <div class="verify-code">
                éªŒè¯ç ï¼š<span contenteditable="true">40D028X7629F3</span>
            </div>

            <div class="sign-area">
                <div style="font-size:18px; font-weight:bold;">ä¸­ä¿¡é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸</div>
                <div style="margin-top:5px;">ä¸ªè´·è¯æ˜ææ–™</div>
                <div style="margin-top:20px;">æ—¥æœŸï¼š<span contenteditable="true">2026å¹´01æœˆ08æ—¥</span></div>
            </div>

            <div class="footer-note">
                å£°æ˜ï¼šè¯·å‰å¾€ä¸­ä¿¡é“¶è¡Œå®˜æ–¹ç½‘ç«™å½•å…¥ç›¸å…³ä¿¡æ¯åè¿›è¡ŒçœŸä¼ªæ ¸éªŒï¼Œä¸ºä¿è¯æ‚¨çš„æƒç›ŠåŠè¯æ˜çš„å…¬æ­£æ€§ï¼Œè¯·ä¸è¦ç§è‡ªæ ¸éªŒã€‚
            </div>
        </div>

        <div id="tpl-spdb" class="template-container tpl-spdb">
            <div class="header-row">
                <div class="logo-area">
                    <img src="../images/æµ¦å‘logoh.png" alt="SPDB">
                    <div style="font-size:12px; font-weight:bold;">ä¸Šæµ·æµ¦ä¸œå‘å±•é“¶è¡Œ</div>
                    <div style="font-size:10px; color:#666;">SHANGHAI PUDONG DEVELOPMENT BANK</div>
                </div>
                <div class="bill-title">
                    ä¸šåŠ¡å‡­è¯/å›å•<br>
                    <span style="font-size:12px; font-weight:normal; font-family:Arial;">Banking Business Voucher/Receipt</span>
                </div>
                <div style="text-align:right; font-size:12px;">
                    æµæ°´å·ï¼š<span contenteditable="true" style="font-family:var(--font-mono)">140071629</span>
                </div>
            </div>

            <div class="bill-grid">
                <div class="bill-cell"><span class="bill-label">äº¤æ˜“æ—¥æœŸ</span></div>
                <div class="bill-cell"><span class="bill-value" contenteditable="true">2026å¹´01æœˆ06æ—¥</span></div>
                <div class="bill-cell"><span class="bill-label">æ—¶é—´</span></div>
                <div class="bill-cell"><span class="bill-value" contenteditable="true">16:14:37</span></div>

                <div class="bill-cell"><span class="bill-label">äº¤æ˜“åç§°</span></div>
                <div class="bill-cell full-row" style="grid-column: 2 / -1;">
                    <span class="bill-value" contenteditable="true">ã€2215-ä¸ªäººè´·æ¬¾æå‰è¿˜æ¬¾å…¥è´¦ã€‘</span>
                </div>

                <div class="bill-cell"><span class="bill-label">å€Ÿæ¬¾äºº</span></div>
                <div class="bill-cell"><span class="bill-value" contenteditable="true">é™ˆä¸–å›½</span></div>
                <div class="bill-cell"><span class="bill-label">å€Ÿæ®å·</span></div>
                <div class="bill-cell"><span class="bill-value" contenteditable="true">5808202210008701</span></div>

                <div class="bill-cell"><span class="bill-label">è¿˜æ¬¾äºº</span></div>
                <div class="bill-cell full-row" style="grid-column: 2 / -1;">
                    <span class="bill-value" contenteditable="true">é™ˆä¸–å›½ / 627163951471003</span>
                </div>

                <div class="bill-cell"><span class="bill-label">æœ¬æ¬¡è¿˜æ¬¾</span></div>
                <div class="bill-cell full-row" style="grid-column: 2 / -1;">
                    æ­£å¸¸æœ¬é‡‘: <span class="bill-value" contenteditable="true">CNY 2,200,000.00</span>
                    &nbsp;&nbsp;åˆ©æ¯: <span class="bill-value" contenteditable="true">CNY 4,016.29</span>
                </div>

                <div class="bill-cell"><span class="bill-label">è´·æ¬¾ä½™é¢</span></div>
                <div class="bill-cell full-row" style="grid-column: 2 / -1;">
                    æœ¬é‡‘é‡‘é¢: <span class="bill-value" contenteditable="true">CNY 0.00</span>
                </div>

                <div class="bill-cell"><span class="bill-label">è´·æ¬¾è´¦æˆ·</span></div>
                <div class="bill-cell full-row" style="grid-column: 2 / -1;">
                    <span class="bill-value" contenteditable="true">7003715180636</span>
                </div>
            </div>

            <div class="spdb-footer">
                <div>æç¤ºï¼šç¬¬ä¸€è”åšè®°è´¦å‡­è¯; ç¬¬äºŒè”åšå®¢æˆ·è”; ç¬¬ä¸‰è”ä¿¡è´·éƒ¨é—¨ç•™å­˜</div>
            </div>
            
            <div style="margin-top:20px; display:flex; justify-content:space-between; align-items:flex-end;">
                <div>
                    ç»åŠæŸœå‘˜ï¼š<span contenteditable="true">1210359</span><br>
                    æˆæƒæŸœå‘˜ï¼š<span contenteditable="true">å¼ çº¯çº¯</span>
                </div>
                </div>

        </div>

    </div>

    <div class="control-panel">
        <h3 style="margin-top:0;">ğŸ“‹ å•æ®æ§åˆ¶å°</h3>
        
        <div class="panel-row">
            <label>é€‰æ‹©é“¶è¡Œæ¨¡æ¿</label>
            <select id="templateSelect" onchange="switchTemplate()">
                <option value="tpl-citic">ä¸­ä¿¡é“¶è¡Œ - ç»“æ¸…è¯æ˜</option>
                <option value="tpl-spdb">æµ¦å‘é“¶è¡Œ - ä¸šåŠ¡å›å•</option>
            </select>
        </div>

        <div class="panel-row">
            <label>å°ç« ç®¡ç†</label>
            <div style="font-size:12px; color:#666; margin-bottom:5px;">æŒ‰ä½å°ç« å¯ç›´æ¥æ‹–æ‹½</div>
            <input type="range" min="50" max="300" value="150" oninput="resizeStamp(this.value)">
        </div>

        <button onclick="window.print()">ğŸ–¨ï¸ æ‰“å° / å­˜ä¸ºPDF</button>
    </div>

    <script>
        // æ‹–æ‹½å°ç« é€»è¾‘ (é€šç”¨)
        const stamp = document.getElementById('dragStamp');
        let isDragging = false;
        let offsetX, offsetY;

        stamp.addEventListener('mousedown', (e) => {
            isDragging = true;
            offsetX = e.clientX - stamp.offsetLeft;
            offsetY = e.clientY - stamp.offsetTop;
            stamp.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                stamp.style.left = (e.clientX - offsetX) + 'px';
                stamp.style.top = (e.clientY - offsetY) + 'px';
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            stamp.style.cursor = 'move';
        });

        function resizeStamp(size) {
            stamp.style.width = size + 'px';
        }

        // åˆ‡æ¢æ¨¡æ¿é€»è¾‘
        function switchTemplate() {
            const selectedId = document.getElementById('templateSelect').value;
            
            // 1. éšè—æ‰€æœ‰æ¨¡æ¿
            document.querySelectorAll('.template-container').forEach(el => el.classList.remove('active'));
            // 2. æ˜¾ç¤ºé€‰ä¸­æ¨¡æ¿
            document.getElementById(selectedId).classList.add('active');

            // 3. è‡ªåŠ¨åˆ‡æ¢å°ç« å›¾ç‰‡ (ä¼˜åŒ–ä½“éªŒ)
            if (selectedId === 'tpl-citic') {
                // ä¸­ä¿¡ç»“æ¸…é€šå¸¸æ˜¯çº¢è‰²åœ†ç« æˆ–ä¸“ç”¨ç« 
                // å‡è®¾æ‚¨æœ‰è¿™ä¸ªå›¾ï¼Œæ²¡æœ‰çš„è¯æš‚æ—¶ç”¨é€šç”¨çš„
                // stamp.src = "../images/citic_stamp.png"; 
            } else if (selectedId === 'tpl-spdb') {
                // æµ¦å‘å›å•é€šå¸¸æ˜¯ è“è‰²æ¤­åœ†ç«  "ä¸šåŠ¡æ ¸ç®—ç« "
                // stamp.src = "../images/spdb_stamp_blue.png";
            }
        }
    </script>
</body>
</html>